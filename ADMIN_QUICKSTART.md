# ğŸš€ AdminåŠŸèƒ½å¿«é€Ÿä¸Šæ‰‹æŒ‡å—

## âš¡ 5åˆ†é’Ÿå¿«é€Ÿå¼€å§‹

### 1. ç¡®è®¤æœåŠ¡è¿è¡Œ âœ…
```bash
# æ£€æŸ¥åç«¯
curl http://localhost:8000/health

# æ£€æŸ¥å‰ç«¯
# æµè§ˆå™¨è®¿é—®: http://localhost:5173
```

**å½“å‰çŠ¶æ€**:
- âœ… åç«¯è¿è¡Œä¸­: http://localhost:8000
- âœ… å‰ç«¯è¿è¡Œä¸­: http://localhost:5173
- âœ… æ•°æ®åº“å·²è¿ç§»
- âœ… Adminè´¦æˆ·å·²åˆ›å»º

---

### 2. ä½¿ç”¨Adminè´¦æˆ·ç™»å½• ğŸ”

è®¿é—® http://localhost:5173 å¹¶ç™»å½•:

```
Username: admin
Password: admin123
```

ç™»å½•åä½ ä¼šçœ‹åˆ°å¤šäº†ä¸€ä¸ª **ğŸ”§ Admin** æ ‡ç­¾é¡µï¼

---

### 3. æ¢ç´¢AdminåŠŸèƒ½ ğŸ”§

#### æŸ¥çœ‹å¹³å°ç»Ÿè®¡ ğŸ“Š
ç‚¹å‡» **ğŸ”§ Admin** æ ‡ç­¾é¡µï¼Œä½ ä¼šçœ‹åˆ°ï¼š
- ğŸ“ˆ æ€»ç”¨æˆ·æ•°ã€æ´»è·ƒç”¨æˆ·æ•°
- ğŸ“Š æ€»è¯·æ±‚æ•°ã€æ€»tokenæ•°
- ğŸ”¥ ä»Šæ—¥ä½¿ç”¨æƒ…å†µ
- ğŸ† çƒ­é—¨æ¨¡å‹æ’è¡Œ

#### ç®¡ç†ç”¨æˆ· ğŸ‘¥
åœ¨ç”¨æˆ·åˆ—è¡¨ä¸­ï¼Œæ¯ä¸ªç”¨æˆ·æ˜¾ç¤ºï¼š
- åŸºæœ¬ä¿¡æ¯ï¼ˆç”¨æˆ·åã€é‚®ç®±ã€è§’è‰²ï¼‰
- è´¦æˆ·çŠ¶æ€ï¼ˆActive/Inactiveï¼‰
- ä½¿ç”¨ç»Ÿè®¡ï¼ˆæ€»è¯·æ±‚ã€æ€»tokensã€ä»Šæ—¥ä½¿ç”¨ï¼‰
- é…é¢é™åˆ¶çŠ¶æ€

#### å¯æ‰§è¡Œæ“ä½œ âš™ï¸
å¯¹ä»»æ„ç”¨æˆ·ï¼ˆéadminï¼‰å¯ä»¥ï¼š
- **Edit Limits**: è®¾ç½®é…é¢é™åˆ¶
- **Disable/Enable**: ç¦ç”¨æˆ–å¯ç”¨è´¦æˆ·
- **Delete**: åˆ é™¤ç”¨æˆ·

---

### 4. è®¾ç½®ç”¨æˆ·é…é¢ç¤ºä¾‹ ğŸ“

#### åœºæ™¯ï¼šé™åˆ¶æµ‹è¯•ç”¨æˆ·æ¯å¤©åªèƒ½ç”¨1000ä¸ªtokens

1. æ‰¾åˆ°ç›®æ ‡ç”¨æˆ·ï¼Œç‚¹å‡» **Edit Limits**
2. å‹¾é€‰ **âœ… Enable Limits**
3. è®¾ç½®:
   ```
   Max Requests per Day: 100
   Max Tokens per Day: 1000
   Max Tokens per Month: 10000
   ```
4. ç‚¹å‡» **Save Changes**

#### åœºæ™¯ï¼šç»™VIPç”¨æˆ·æ— é™é…é¢

1. ç‚¹å‡»ç”¨æˆ·çš„ **Edit Limits**
2. å–æ¶ˆå‹¾é€‰ **â˜‘ï¸ Enable Limits**
3. æˆ–è€…è®¾ç½®æ‰€æœ‰å€¼ä¸º `0`ï¼ˆ0 = æ— é™ï¼‰
4. ç‚¹å‡» **Save Changes**

---

## ğŸ¯ å¸¸è§ä»»åŠ¡

### ç¦ç”¨æŸä¸ªç”¨æˆ·
1. åœ¨ç”¨æˆ·åˆ—è¡¨æ‰¾åˆ°è¯¥ç”¨æˆ·
2. ç‚¹å‡» **Disable** æŒ‰é’®
3. ç¡®è®¤æ“ä½œ
4. âœ… ç”¨æˆ·ç«‹å³æ— æ³•ä½¿ç”¨API

### åˆ é™¤æŸä¸ªç”¨æˆ·
1. åœ¨ç”¨æˆ·åˆ—è¡¨æ‰¾åˆ°è¯¥ç”¨æˆ·
2. ç‚¹å‡» **Delete** æŒ‰é’®
3. ç¡®è®¤åˆ é™¤æç¤º
4. âœ… ç”¨æˆ·åŠå…¶æ‰€æœ‰æ•°æ®è¢«åˆ é™¤

### æŸ¥çœ‹å¹³å°ä½¿ç”¨æƒ…å†µ
1. æ‰“å¼€ **ğŸ”§ Admin** æ ‡ç­¾é¡µ
2. æŸ¥çœ‹é¡¶éƒ¨çš„ç»Ÿè®¡å¡ç‰‡
3. æŸ¥çœ‹çƒ­é—¨æ¨¡å‹åˆ—è¡¨ï¼ˆæŒ‰è¯·æ±‚æ•°æ’åºï¼‰

---

## ğŸ“± å½“å‰å¯ç”¨æ¨¡å‹ï¼ˆ5ä¸ªï¼‰

### ğŸ’¬ æ–‡æœ¬ç”Ÿæˆï¼ˆ4ä¸ªï¼‰
1. **Llama 3.1 8B Instruct** â­ æ¨è
2. **Llama 3 8B Instruct**
3. **Llama 2 7B Chat FP16**
4. **Mistral 7B Instruct**

### ğŸ¨ å›¾åƒç”Ÿæˆï¼ˆ1ä¸ªï¼‰
5. **FLUX.1 Schnell** - è¶…å¿«é€Ÿï¼Œ4æ­¥ç”Ÿæˆ

---

## ğŸ”‘ åˆ›å»ºæ–°Adminè´¦æˆ·

å¦‚æœéœ€è¦åˆ›å»ºé¢å¤–çš„adminè´¦æˆ·ï¼š

```bash
cd /Users/chunyiyang/I3/api-billing-platform/server
source venv/bin/activate
python create_admin.py <username> <email> <password>
```

ä¾‹å¦‚ï¼š
```bash
python create_admin.py super_admin super@example.com SecureP@ss123
```

---

## ğŸ†˜ æ•…éšœæ’é™¤

### é—®é¢˜1: çœ‹ä¸åˆ°Adminæ ‡ç­¾é¡µ
**åŸå› **: å½“å‰ç”¨æˆ·ä¸æ˜¯admin
**è§£å†³**: 
- ä½¿ç”¨adminè´¦æˆ·ç™»å½•ï¼ˆusername: `admin`, password: `admin123`ï¼‰
- æˆ–è€…åœ¨æ•°æ®åº“ä¸­å°†ç”¨æˆ·çš„`is_admin`å­—æ®µè®¾ä¸º`1`

### é—®é¢˜2: Admin APIè¿”å›403é”™è¯¯
**åŸå› **: JWT tokenä¸åŒ…å«adminæƒé™
**è§£å†³**: 
- é‡æ–°ç™»å½•ä»¥è·å–æ–°çš„token
- ç¡®è®¤ç”¨æˆ·çš„`is_admin=True`å’Œ`role='admin'`

### é—®é¢˜3: æ— æ³•åˆ é™¤adminç”¨æˆ·
**åŸå› **: è¿™æ˜¯æ•…æ„çš„å®‰å…¨ä¿æŠ¤
**è§£å†³**: 
- Adminç”¨æˆ·ä¸èƒ½è¢«åˆ é™¤æˆ–ç¦ç”¨
- å¦‚éœ€åˆ é™¤ï¼Œç›´æ¥åœ¨æ•°æ®åº“ä¸­æ“ä½œ

### é—®é¢˜4: ä¿®æ”¹é…é¢åæ²¡ç”Ÿæ•ˆ
**åŸå› **: é…é¢æ£€æŸ¥å°šæœªå®ç°ï¼ˆä»…UIç®¡ç†ï¼‰
**è§£å†³**: 
- å½“å‰ç‰ˆæœ¬ä»…æ”¯æŒé…é¢è®¾ç½®ï¼Œä¸å¼ºåˆ¶æ‰§è¡Œ
- éœ€è¦åœ¨AIè¯·æ±‚å¤„ç†ä¸­æ·»åŠ é…é¢æ£€æŸ¥é€»è¾‘

---

## ğŸ“¸ åŠŸèƒ½æˆªå›¾è¯´æ˜

### Admin Dashboard
- **å¹³å°ç»Ÿè®¡åŒº**: 6ä¸ªå½©è‰²å¡ç‰‡ï¼Œå®æ—¶æ•°æ®
- **ç”¨æˆ·ç®¡ç†è¡¨**: å®Œæ•´çš„ç”¨æˆ·ä¿¡æ¯å’Œæ“ä½œ
- **é…é¢ç¼–è¾‘**: å¼¹çª—å¼è¡¨å•ï¼Œç›´è§‚æ˜“ç”¨

### æƒé™æ§åˆ¶
- **æ™®é€šç”¨æˆ·**: åªèƒ½çœ‹åˆ° ğŸ’¬ Chat, ğŸ“Š Usage, ğŸ”‘ API Key
- **Adminç”¨æˆ·**: é¢å¤–çœ‹åˆ° ğŸ”§ Admin æ ‡ç­¾é¡µ

---

## ğŸ“ æŠ€æœ¯ç»†èŠ‚

### Admin APIç«¯ç‚¹
- `GET /api/admin/users` - è·å–æ‰€æœ‰ç”¨æˆ·
- `GET /api/admin/stats` - å¹³å°ç»Ÿè®¡
- `GET /api/admin/user/{id}/usage` - ç”¨æˆ·è¯¦ç»†ä½¿ç”¨
- `PUT /api/admin/user/{id}/limit` - æ›´æ–°é…é¢
- `PUT /api/admin/user/{id}/status` - å¯ç”¨/ç¦ç”¨
- `DELETE /api/admin/user/{id}` - åˆ é™¤ç”¨æˆ·

### æ•°æ®åº“è¡¨
- `users` - æ–°å¢`is_admin`, `role`å­—æ®µ
- `user_limits` - æ–°è¡¨ï¼Œå­˜å‚¨é…é¢é™åˆ¶
- `usage_logs` - ä½¿ç”¨è®°å½•ï¼ˆå·²å­˜åœ¨ï¼‰

### æƒé™éªŒè¯
- ä½¿ç”¨`require_admin`ä¾èµ–æ³¨å…¥
- åŸºäºJWT tokenä¸­çš„ç”¨æˆ·ä¿¡æ¯
- å‰ç«¯é€šè¿‡`user.is_admin`æ§åˆ¶UIæ˜¾ç¤º

---

## ğŸ‰ å¼€å§‹ä½¿ç”¨ï¼

**ç«‹å³è®¿é—®**: http://localhost:5173

1. ä½¿ç”¨ `admin` / `admin123` ç™»å½•
2. ç‚¹å‡» **ğŸ”§ Admin** æ ‡ç­¾é¡µ
3. å¼€å§‹ç®¡ç†ä½ çš„å¹³å°ï¼

---

**éœ€è¦å¸®åŠ©?** æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£: `ADMIN_FEATURE_COMPLETE.md`

